<!DOCTYPE html>
<html>
<head>
  <title>DBMNG Test Suite</title>
  <script type="text/javascript" src="https://code.jquery.com/jquery-1.11.2.min.js"></script>

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">

  <!-- for autocomplete and file upload -->
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.11.4/jquery-ui.js"></script>

  <!-- for autocomplete -->
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/typeahead.js/0.11.1/typeahead.bundle.min.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.5/handlebars.min.js"></script>

  <!-- for file upload -->
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/blueimp-file-upload/9.5.7/jquery.iframe-transport.min.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/blueimp-file-upload/9.5.7/jquery.fileupload.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/blueimp-file-upload/9.5.7/css/jquery.fileupload.min.css">

  <script type="text/javascript" src="../src/Class.js"></script>
  <script type="text/javascript" src="../src/Dbmng.js"></script>
  <script type="text/javascript" src="../src/Form.js"></script>
  <script type="text/javascript" src="../src/Api.js"></script>
  <script type="text/javascript" src="../src/Crud.js"></script>
  <script type="text/javascript" src="../src/FormCrud.js"></script>
  <script type="text/javascript" src="../src/Ie9.js"></script>
  <script type="text/javascript" src="../src/Utilities.js"></script>
  <script type="text/javascript" src="../src/themes/AbstractTheme.js"></script>
  <script type="text/javascript" src="../src/themes/BootstrapTheme.js"></script>
  <script type="text/javascript" src="../src/widgets/AbstractWidget.js"></script>
  <script type="text/javascript" src="../src/widgets/SelectWidget.js"></script>
  <script type="text/javascript" src="../src/widgets/NumericWidget.js"></script>
  <script type="text/javascript" src="../src/widgets/TextareaWidget.js"></script>
  <script type="text/javascript" src="../src/widgets/PasswordWidget.js"></script>
  <script type="text/javascript" src="../src/widgets/CheckboxWidget.js"></script>
  <script type="text/javascript" src="../src/widgets/SelectNMWidget.js"></script>
  <script type="text/javascript" src="../src/widgets/HiddenWidget.js"></script>
  <script type="text/javascript" src="../src/widgets/AutocompleteWidget.js"></script>
  <script type="text/javascript" src="../src/widgets/DateWidget.js"></script>
  <script type="text/javascript" src="../src/widgets/FileWidget.js"></script>
</head>
<body>
  <h1>Form</h1>
    <div id="test_bootstrap"></div>
  <h1>Crud Form</h1>
    <div id="test_form"></div>

  <script>
    Dbmng.defaults.aParam = {};
    Dbmng.defaults.aParam.ui = {};
    Dbmng.defaults.aParam.ui.btn_edit = {label:'Edit', icon:'fa fa-pencil'};
    Dbmng.defaults.aParam.ui.btn_edit_inline = {label:'Edit inline', icon:'fa fa-pencil-square-o'};
    Dbmng.defaults.aParam.ui.btn_delete = {label:'Delete', icon:'fa fa-trash', confirm_message: 'Are you sure to delete the table?'};
    Dbmng.defaults.aParam.ui.btn_insert = {label:'Insert new tables', class:'btn-success btn-block'};
    Dbmng.defaults.aParam.ui.btn_save = {label:'Save table', class:'btn-success btn-block'};
    Dbmng.defaults.aParam.ui.btn_cancel = {label:'Cancel', class:'btn-danger btn-block'};
    Dbmng.defaults.aParam.ui.table_class = 'table-condensed table-hover';
    Dbmng.defaults.aParam.user_function = {upd:1, del:1, ins:1};    
    
    var aParam = {};
		var aForm2 = { table_name: 'test',
      primary_key: Array('id'),
      fields: {
        id: {label: 'ID', type: 'int', key: 0, nullable: false},
        name: {label: 'Name', type: 'varchar', 'default': 'Paperino', nullable: false}
			}
    };
    
    var theme_boot=new Dbmng.BootstrapTheme();
		var form2=new Dbmng.Form({aForm:aForm2, aParam:aParam, theme:theme_boot});
    
    var obj = {id:2, name:'Diego'};
    console.log(obj);
    jQuery('#test_bootstrap').append(form2.createForm(obj));

		var api=new  Dbmng.Api({aForm:aForm2, url:'/dbmng2/api/test', user:'test', password:'test'});
		
		var fc = new Dbmng.CrudForm({aForm:aForm2, aParam:aParam, theme:theme_boot,url:'/dbmng2/api/test', div_id:'test_form'});
		
		var id = 2;
		fc.createForm(id);
    
  </script>
</body>
